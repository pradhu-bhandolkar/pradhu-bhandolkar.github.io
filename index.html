<!DOCTYPE html>
<html>
<body>
    <br><a href="https://www.halodoc.com/microapp?app_id=com.halodoc.bmicalculator">BMI calculator</a>
    <br><a href="http://www.halodoc.com/microapp?app_id=com.halodoc.bmicalculator&screen_id=know-more">BMI Calculator
        Know More</a>
    <br><a href="halodoc://microapp?app_id=com.halodoc.kitabisa">Kitabisa home page</a>
    <br><a href="halodoc://microapp?app_id=com.halodoc.kitabisa&screen_id=campaign/bantumurni">Kitabisa with screen_id
        having multi param /</a>
    <br><a href="halodoc://microapp?app_id=com.halodoc.kitabisa&screen_id=explore">Kitabisa with screen_id having single
        param/</a>
    <br><a href="halodoc://microapp?app_id=com.halodoc.kitabisa&screen_id=campaign&query1=bantumurni">Kitabisa with
        invalid query param</a>
    <br><a href="halodoc://subscription/package?package_id=edc6ec5f-18a1-4587-be53-4f4c66e1cd9d">Subscription
        Details</a>
    <br>
    <br><a href="halodoc://teleconsultation">Contact Doctor Home</a>
    <br>
    <br>
    <br><a href="https://web.stage.halodoc.com/tanya-dokter/kategori/perawatan-umum-3">tanya-doktor kategori</a>
    <br>
    <br><a href="halodoc://wallet">Wallet</a>
    <br>
    <br><a href="https://www.halodoc.com/articles?content_url=https://www.halodoc.com/artikel/4-jenis-vitamin-yang-dibutuhkan-tubuh-saat-berpuasa">Vitamin article</a>
    <br>
    <a href="tel:82112349876">Call Clinic - 82112349876</a>
    <br>

    <h2>Period tracker sample</h2>
    <button onclick="postMessage('get_access_token')">Get Info</button>
    <button onclick="postMessage('refresh_access_token')">Refresh Access Token</button>
    <button onclick="closeMicroApp()">Close Android Micro App</button>
    <button onclick="closeiOSMicroApp()">Close iOS Micro App</button>
    <button onclick="getLocation()">Get Location Android</button>
    <button onclick="getLocationiOS()">Get Location iOS</button>
    <p id="demo"></p>
    <script>
        function postMessage(operation) {
            try {
                let requestCode = "user_auth." + operation;
                let json = {
                    "request_id": "1235",
                    "request_body": {
                        "request_code": requestCode,
                        "data": {}
                    },
                    "callback": "JSMethodToSendResponse"
                }
                JSToNativeBridge.callToNative(JSON.stringify(json));
            } catch (err) {
                let x = document.getElementsByTagName("h3")[0];
                x.innerHTML = "error" + err;
            }
        }
        function JSMethodToSendResponse(string) {
            var x = document.getElementsByTagName("h3")[0];
            x.innerHTML = JSON.stringify(string);
        }
        function closeMicroApp() {
            try {
                let requestCode = "lifecycle.finish";
                let json = {
                    "request_id": "123654",
                    "request_body": {
                        "request_code": requestCode,
                        "data": {}
                    },
                    "callback": "JSMethodToSendResponse"
                }
                JSToNativeBridge.callToNative(JSON.stringify(json));
            } catch (err) {
                let x = document.getElementsByTagName("h3")[0];
                x.innerHTML = "error" + err;
            }
        }
        function closeiOSMicroApp() {
            try {
                let requestCode = "lifecycle.finish";
                let json = {
                    "request_id": "123654",
                    "request_body": {
                        "request_code": requestCode,
                        "data": {}
                    },
                    "callback": "JSMethodToSendResponse"
                }
                window.webkit.messageHandlers.JSToNativeBridge.postMessage(JSON.stringify(json));
            } catch (err) {
                let x = document.getElementsByTagName("h3")[0];
                x.innerHTML = "error" + err;
            }
        }
        function getLocation() {
            try {
                let requestCode = "user_location.get_location";
                let json = {
                    "request_id": "12352",
                    "request_body": {
                        "request_code": requestCode,
                        "data": {}
                    },
                    "callback": "JSMethodToSendResponse"
                }
                JSToNativeBridge.callToNative(JSON.stringify(json));
            } catch (err) {
                let x = document.getElementsByTagName("h3")[0];
                x.innerHTML = "error" + err;
            }
        }
        function getLocationiOS() {
            try {
                let requestCode = "user_location.get_location";
                let json = {
                    "request_id": "12352",
                    "request_body": {
                        "request_code": requestCode,
                        "data": {}
                    },
                    "callback": "JSMethodToSendResponse"
                }
                window.webkit.messageHandlers.JSToNativeBridge.postMessage(JSON.stringify(json));
            } catch (err) {
                let x = document.getElementsByTagName("h3")[0];
                x.innerHTML = "error" + err;
            }
        }
    </script>
    <h3></h3>
</body>
</html>
